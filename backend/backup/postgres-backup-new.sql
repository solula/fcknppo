--
-- PostgreSQL database dump
--

-- Dumped from database version 15.4 (Debian 15.4-2.pgdg120+1)
-- Dumped by pg_dump version 15.4 (Debian 15.4-2.pgdg120+1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: public; Type: SCHEMA; Schema: -; Owner: pg_database_owner
--

CREATE SCHEMA IF NOT EXISTS public;


ALTER SCHEMA public OWNER TO pg_database_owner;

--
-- Name: SCHEMA public; Type: COMMENT; Schema: -; Owner: pg_database_owner
--

COMMENT ON SCHEMA public IS 'standard public schema';


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: auth_permissions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_permissions (
    id character varying NOT NULL,
    description character varying NOT NULL
);


ALTER TABLE public.auth_permissions OWNER TO postgres;

--
-- Name: auth_roles; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_roles (
    id character varying NOT NULL,
    description character varying NOT NULL,
    release_delay bigint NOT NULL
);


ALTER TABLE public.auth_roles OWNER TO postgres;

--
-- Name: auth_roles_permissions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_roles_permissions (
    role_id character varying NOT NULL,
    permission_id character varying NOT NULL
);


ALTER TABLE public.auth_roles_permissions OWNER TO postgres;

--
-- Name: auth_users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_users (
    uuid uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    email character varying,
    fullname character varying NOT NULL,
    username character varying NOT NULL,
    password_hash character varying,
    vk_id bigint,
    score bigint DEFAULT 0 NOT NULL,
    email_verified boolean DEFAULT false NOT NULL,
    avatar_file character varying,
    serial_number integer NOT NULL
);


ALTER TABLE public.auth_users OWNER TO postgres;

--
-- Name: auth_users_permissions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_users_permissions (
    user_uuid uuid NOT NULL,
    permission_id character varying NOT NULL
);


ALTER TABLE public.auth_users_permissions OWNER TO postgres;

--
-- Name: auth_users_roles; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_users_roles (
    user_uuid uuid NOT NULL,
    role_id character varying NOT NULL
);


ALTER TABLE public.auth_users_roles OWNER TO postgres;

--
-- Name: auth_users_serial_number_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.auth_users_serial_number_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.auth_users_serial_number_seq OWNER TO postgres;

--
-- Name: auth_users_serial_number_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.auth_users_serial_number_seq OWNED BY public.auth_users.serial_number;


--
-- Name: chapters; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.chapters (
    uuid uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    number bigint NOT NULL,
    title character varying NOT NULL,
    text_file character varying NOT NULL,
    image_files jsonb NOT NULL,
    main_image_idx bigint NOT NULL,
    framing_svg_files jsonb NOT NULL,
    bottom_svg_file character varying,
    part_uuid uuid NOT NULL,
    release_uuid uuid
);


ALTER TABLE public.chapters OWNER TO postgres;

--
-- Name: db_migrations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.db_migrations (
    id bigint NOT NULL,
    migrated bigint NOT NULL
);


ALTER TABLE public.db_migrations OWNER TO postgres;

--
-- Name: db_migrations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.db_migrations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.db_migrations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: db_seed_migrations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.db_seed_migrations (
    id bigint NOT NULL,
    migrated bigint NOT NULL
);


ALTER TABLE public.db_seed_migrations OWNER TO postgres;

--
-- Name: db_seed_migrations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.db_seed_migrations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.db_seed_migrations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: files; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.files (
    uuid uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    filename character varying NOT NULL,
    mime_type character varying NOT NULL,
    description character varying NOT NULL,
    object_type character varying NOT NULL,
    object_ref uuid NOT NULL,
    creator_uuid uuid
);


ALTER TABLE public.files OWNER TO postgres;

--
-- Name: parts; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.parts (
    uuid uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    number bigint NOT NULL,
    title character varying NOT NULL,
    annotation character varying,
    cover_image_file character varying NOT NULL,
    release_uuid uuid
);


ALTER TABLE public.parts OWNER TO postgres;

--
-- Name: releases; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.releases (
    uuid uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    release_date timestamp with time zone NOT NULL,
    description character varying NOT NULL
);


ALTER TABLE public.releases OWNER TO postgres;

--
-- Name: auth_users serial_number; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_users ALTER COLUMN serial_number SET DEFAULT nextval('public.auth_users_serial_number_seq'::regclass);


--
-- Data for Name: auth_permissions; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_permissions (id, description) FROM stdin;
chapters_create	Создание глав
chapters_read	Получение глав
chapters_update	Редактирование глав
chapters_delete	Удаление глав
parts_create	Создание частей
parts_read	Получение частей
parts_update	Редактирование частей
parts_delete	Удаление частей
users_create	Создание пользователей
users_read	Получение пользователей
users_update	Редактирование пользователей
users_update_self	Редактирование своего пользователя
users_delete	Удаление пользователей
users_delete_self	Удаление своего пользователя
releases_create	Создание релизов
releases_read	Получение релизов
releases_update	Редактирование релизов
releases_delete	Удаление релизов
files_create	Создание файлов
files_read	Получение файлов
\.


--
-- Data for Name: auth_roles; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_roles (id, description, release_delay) FROM stdin;
admin	Администратор	0
premium	Платный пользователь	0
free	Бесплатный пользователь	2419200
guest	Гость (неавторизованный пользователь)	2419200
\.


--
-- Data for Name: auth_roles_permissions; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_roles_permissions (role_id, permission_id) FROM stdin;
admin	parts_create
admin	parts_delete
admin	users_update
admin	users_delete
admin	releases_update
admin	releases_delete
admin	chapters_delete
admin	chapters_update
admin	parts_update
admin	releases_create
admin	chapters_create
free	parts_read
free	users_create
free	users_read
free	users_delete_self
free	files_read
free	chapters_read
free	users_update_self
free	releases_read
free	files_create
guest	users_create
guest	users_read
guest	releases_read
guest	files_read
guest	chapters_read
guest	parts_read
\.


--
-- Data for Name: auth_users; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_users (uuid, created_at, updated_at, deleted_at, email, fullname, username, password_hash, vk_id, score, email_verified, avatar_file, serial_number) FROM stdin;
00000000-0000-0000-0000-000000000000	2023-12-06 12:43:12.31983+00	2023-12-06 12:43:12.319831+00	\N	postgres750@gmail.com	Администратор	admin	$2a$14$huZa4QfBMKKvPe1kZ3nWt.IDjTJGnPA400UMCVeCYamW32SLQ5ciS	\N	0	t	\N	1
77777777-7777-7777-7777-777777777777	2023-12-06 12:43:12.319848+00	2023-12-06 12:43:12.319848+00	\N	drowned.memories.service@gmail.com	Системный пользователь	system	\N	\N	0	f	\N	2
\.


--
-- Data for Name: auth_users_permissions; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_users_permissions (user_uuid, permission_id) FROM stdin;
00000000-0000-0000-0000-000000000000	chapters_update
00000000-0000-0000-0000-000000000000	files_create
00000000-0000-0000-0000-000000000000	parts_delete
00000000-0000-0000-0000-000000000000	parts_read
00000000-0000-0000-0000-000000000000	users_create
00000000-0000-0000-0000-000000000000	users_delete_self
00000000-0000-0000-0000-000000000000	chapters_delete
00000000-0000-0000-0000-000000000000	files_read
00000000-0000-0000-0000-000000000000	parts_create
00000000-0000-0000-0000-000000000000	parts_update
00000000-0000-0000-0000-000000000000	releases_create
00000000-0000-0000-0000-000000000000	releases_read
00000000-0000-0000-0000-000000000000	chapters_create
00000000-0000-0000-0000-000000000000	users_read
00000000-0000-0000-0000-000000000000	chapters_read
00000000-0000-0000-0000-000000000000	releases_delete
00000000-0000-0000-0000-000000000000	releases_update
00000000-0000-0000-0000-000000000000	users_delete
00000000-0000-0000-0000-000000000000	users_update
00000000-0000-0000-0000-000000000000	users_update_self
77777777-7777-7777-7777-777777777777	files_create
77777777-7777-7777-7777-777777777777	releases_update
77777777-7777-7777-7777-777777777777	chapters_update
77777777-7777-7777-7777-777777777777	files_read
77777777-7777-7777-7777-777777777777	parts_update
77777777-7777-7777-7777-777777777777	users_create
77777777-7777-7777-7777-777777777777	users_delete_self
77777777-7777-7777-7777-777777777777	parts_create
77777777-7777-7777-7777-777777777777	parts_read
77777777-7777-7777-7777-777777777777	releases_delete
77777777-7777-7777-7777-777777777777	users_update
77777777-7777-7777-7777-777777777777	chapters_create
77777777-7777-7777-7777-777777777777	chapters_delete
77777777-7777-7777-7777-777777777777	chapters_read
77777777-7777-7777-7777-777777777777	parts_delete
77777777-7777-7777-7777-777777777777	releases_create
77777777-7777-7777-7777-777777777777	releases_read
77777777-7777-7777-7777-777777777777	users_delete
77777777-7777-7777-7777-777777777777	users_read
77777777-7777-7777-7777-777777777777	users_update_self
\.


--
-- Data for Name: auth_users_roles; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_users_roles (user_uuid, role_id) FROM stdin;
00000000-0000-0000-0000-000000000000	free
00000000-0000-0000-0000-000000000000	premium
00000000-0000-0000-0000-000000000000	admin
77777777-7777-7777-7777-777777777777	free
77777777-7777-7777-7777-777777777777	premium
77777777-7777-7777-7777-777777777777	admin
\.


--
-- Data for Name: chapters; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.chapters (uuid, created_at, updated_at, number, title, text_file, image_files, main_image_idx, framing_svg_files, bottom_svg_file, part_uuid, release_uuid) FROM stdin;
2f3703a3-f33f-416f-8d11-9476a7e05c7f	2023-12-06 13:20:33.406095+00	2023-12-06 13:20:33.406097+00	4	Племянник	7f084d27-b7ac-4098-b142-552f30b97dd4	["8fc9f355-b62f-4edc-89ed-41d961a77d1f"]	0	["da956e57-c2f9-48b5-b239-4875892e2d94"]	\N	80bb99bb-0585-4e05-8afc-5b803b7c258f	67339141-3e86-42cc-b11a-0c56ee15c6cf
c765c2ca-aa4a-46a9-aa19-119820f2852b	2023-12-06 13:49:59.997286+00	2023-12-06 13:49:59.997286+00	2	Профессор	b69d9977-df4a-4e28-ae54-e77884fc4d81	["a31f944c-948d-4c08-9c6b-2bf4f356b1e3"]	0	["7fa95d86-1b74-444a-b83b-094531f29fed"]	\N	80bb99bb-0585-4e05-8afc-5b803b7c258f	090b48c7-79a5-4e6c-afa4-19d9ff296982
07c09edd-2298-4d80-aa57-a2cc9f6a3b2e	2023-12-08 14:07:14.544731+00	2024-01-05 10:47:56.606941+00	6	Средство	11fa6608-d9ec-41f1-ac26-fad93d38b6c8	["caf3665b-044b-4c3d-9281-ae971f4e68f1"]	0	["c3ee05af-d2c4-4aa2-b969-a92d11e73097"]	\N	80bb99bb-0585-4e05-8afc-5b803b7c258f	c866fed1-030b-4c6d-9034-63d66083adc0
da3d8ee4-3faa-4e86-85c7-f1e347f5880c	2024-02-05 14:58:51.806219+00	2024-03-01 17:01:23.61573+00	10	Сиреневый чай	2eef630d-e88c-42c6-9ac4-9b76ff7ce5d3	["b9f8e46c-fb8e-4db7-9427-f4656f9dfde2"]	0	["f0fce22b-1a02-49b7-ac7b-39fe3efb7ea0"]	\N	80bb99bb-0585-4e05-8afc-5b803b7c258f	3827f397-61b3-4092-817b-9e5d85f59705
5fbe0913-faea-44b4-b7ad-0daeccf49c24	2023-12-06 13:25:36.194475+00	2023-12-22 13:58:35.603391+00	5	Похититель	34d28599-cb93-40b6-a704-1aa48f36c76e	["e3aaf8f8-85ec-4e64-b41d-ead03577fc8a"]	0	["bb4ef452-48fd-40ef-a9aa-fc06f215385a"]	\N	80bb99bb-0585-4e05-8afc-5b803b7c258f	45cfdbaf-3a67-44c1-844f-4d0e61d19fcd
9ca6753f-c767-4d8e-9b49-d5cb1ea46170	2023-12-06 13:55:02.825672+00	2024-01-05 15:24:47.261093+00	3	Отец	facf936d-d9f1-419e-ab4d-dfb18a59a874	["31b39030-6893-4563-951f-692aa27e1c97"]	0	["79f45677-7390-491f-b469-edbfeb6360cc"]	\N	80bb99bb-0585-4e05-8afc-5b803b7c258f	f9db6eba-bd8d-4ec5-ac2b-53701fa3e9a0
78154ed8-9ba9-4e0b-974f-4ed7adbcadf9	2024-02-16 06:02:49.429991+00	2024-03-17 14:04:05.467946+00	11	Театр	eb7ec8aa-033f-4a9e-a697-bcc2305715eb	["04ad5500-42c3-4bd5-86f9-6ed1718899be"]	0	["098b47d2-c8b3-49d7-bbb7-38b6a60220e0"]	\N	80bb99bb-0585-4e05-8afc-5b803b7c258f	26a31b9a-393b-4f8b-8e46-1a487d83e623
8de95b5c-9560-4089-bb63-4b83859cbb6a	2023-12-06 13:35:06.920317+00	2024-01-05 18:07:34.032549+00	1	Ребенок	d76f7506-59ca-4fdb-97b6-aa00da200b2d	["19bbeb78-2aee-4866-b48a-3b42c5a92ca4", "6447a793-639b-4b3d-972f-65fc6893337a"]	0	["24491362-cc58-43c0-a666-360b848ba1b0"]	\N	80bb99bb-0585-4e05-8afc-5b803b7c258f	e87e02c8-3f81-4b1a-8fe0-d273a7134eb8
00a74070-b3fe-46d7-a0f6-928da7c8569e	2023-12-22 14:05:16.233201+00	2024-01-19 14:42:10.939585+00	7	Сосед	64dd0902-2d09-47b1-91ca-a4d9de85f7ba	["63d0db74-7f70-45cc-823a-66ebd85769a8"]	0	["074d3c9c-0441-47bc-9e36-0635fa9d2904"]	\N	80bb99bb-0585-4e05-8afc-5b803b7c258f	a7c2a4c6-95bf-4b74-bb65-6581211a5682
a7a8acee-46d8-45a4-8b65-7549e188002c	2024-01-05 11:05:20.312339+00	2024-02-05 14:52:46.330541+00	8	Клиенты	26b9b534-15be-4a6a-869f-be0b5f76db91	["7678d394-c982-48f9-9911-2df28400e885"]	0	["b57569a9-0454-408e-9214-00332600945f"]	\N	80bb99bb-0585-4e05-8afc-5b803b7c258f	99a91518-904d-440e-a1d7-ac92d6a4dab0
818fa245-1744-4dca-9680-ad9b9dfdf5fe	2024-01-19 14:31:08.207818+00	2024-02-16 05:59:25.579035+00	9	Пациент	e2256b5b-1e79-4929-8b9a-f5510cdabd29	["ad013450-d770-44f1-862c-0c1018adbeca"]	0	["72f46fc8-d7ef-480d-8c6c-5f3bd697ac5f"]	\N	80bb99bb-0585-4e05-8afc-5b803b7c258f	db541ed9-9605-4dbf-a2e8-00b57a387916
\.


--
-- Data for Name: db_migrations; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.db_migrations (id, migrated) FROM stdin;
1	1
\.


--
-- Data for Name: db_seed_migrations; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.db_seed_migrations (id, migrated) FROM stdin;
1	5
\.


--
-- Data for Name: files; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.files (uuid, created_at, updated_at, filename, mime_type, description, object_type, object_ref, creator_uuid) FROM stdin;
eb7ec8aa-033f-4a9e-a697-bcc2305715eb	2024-03-17 13:59:39.01612+00	2024-03-17 14:04:05.50571+00	Глава 11.md	text/markdown		chapters	78154ed8-9ba9-4e0b-974f-4ed7adbcadf9	00000000-0000-0000-0000-000000000000
04ad5500-42c3-4bd5-86f9-6ed1718899be	2024-03-17 14:00:07.809925+00	2024-03-17 14:04:05.522343+00	сжатая 5 _11.jpg	image/jpeg		chapters	78154ed8-9ba9-4e0b-974f-4ed7adbcadf9	00000000-0000-0000-0000-000000000000
ac7b0d99-752a-40ef-abc7-87e2f20090b7	2023-12-06 12:43:12.409498+00	2023-12-06 12:43:12.409499+00	static/default_avatar.jpg	image/jpeg	Сервисный файл аватара пользователей по умолчанию	public	ffffffff-ffff-ffff-ffff-ffffffffffff	\N
f9343ee2-5e2a-4454-a928-085945617e7b	2023-12-06 13:17:41.117589+00	2023-12-06 13:18:01.776026+00	НовоеКреслоИОдежда4.jpg	image/jpeg		parts	80bb99bb-0585-4e05-8afc-5b803b7c258f	00000000-0000-0000-0000-000000000000
7f084d27-b7ac-4098-b142-552f30b97dd4	2023-12-06 13:19:52.758982+00	2023-12-06 13:20:33.454126+00	Глава 4.md	text/markdown		chapters	2f3703a3-f33f-416f-8d11-9476a7e05c7f	00000000-0000-0000-0000-000000000000
8fc9f355-b62f-4edc-89ed-41d961a77d1f	2023-12-06 13:18:59.172724+00	2023-12-06 13:20:33.470731+00	11 холодная осень.jpg	image/jpeg		chapters	2f3703a3-f33f-416f-8d11-9476a7e05c7f	00000000-0000-0000-0000-000000000000
da956e57-c2f9-48b5-b239-4875892e2d94	2023-12-06 13:20:23.971789+00	2023-12-06 13:20:33.498603+00	leaf_tree.svg	image/svg+xml		chapters	2f3703a3-f33f-416f-8d11-9476a7e05c7f	00000000-0000-0000-0000-000000000000
63d0db74-7f70-45cc-823a-66ebd85769a8	2024-01-19 14:25:48.2114+00	2024-01-19 14:28:28.039417+00	12.jpg	image/jpeg		chapters	00a74070-b3fe-46d7-a0f6-928da7c8569e	00000000-0000-0000-0000-000000000000
074d3c9c-0441-47bc-9e36-0635fa9d2904	2024-01-19 14:28:09.605823+00	2024-01-19 14:28:28.096865+00	chapter 1.svg	image/svg+xml		chapters	00a74070-b3fe-46d7-a0f6-928da7c8569e	00000000-0000-0000-0000-000000000000
bb4ef452-48fd-40ef-a9aa-fc06f215385a	2023-12-06 13:24:43.472645+00	2023-12-06 13:25:36.25919+00	leaf_tree.svg	image/svg+xml		chapters	5fbe0913-faea-44b4-b7ad-0daeccf49c24	00000000-0000-0000-0000-000000000000
72f46fc8-d7ef-480d-8c6c-5f3bd697ac5f	2024-01-19 14:30:15.956538+00	2024-01-19 14:31:08.281602+00	leaf_tree.svg	image/svg+xml		chapters	818fa245-1744-4dca-9680-ad9b9dfdf5fe	00000000-0000-0000-0000-000000000000
64dd0902-2d09-47b1-91ca-a4d9de85f7ba	2024-01-19 14:41:57.736909+00	2024-01-19 14:42:10.952312+00	Глава 7.md	text/markdown		chapters	00a74070-b3fe-46d7-a0f6-928da7c8569e	00000000-0000-0000-0000-000000000000
26b9b534-15be-4a6a-869f-be0b5f76db91	2024-02-05 14:43:34.401093+00	2024-02-05 14:52:46.37227+00	Глава 8.md	text/markdown		chapters	a7a8acee-46d8-45a4-8b65-7549e188002c	00000000-0000-0000-0000-000000000000
b69d9977-df4a-4e28-ae54-e77884fc4d81	2023-12-06 13:49:22.017064+00	2023-12-06 13:50:00.024507+00	Глава 2.md	text/markdown		chapters	c765c2ca-aa4a-46a9-aa19-119820f2852b	00000000-0000-0000-0000-000000000000
a31f944c-948d-4c08-9c6b-2bf4f356b1e3	2023-12-06 13:49:49.108805+00	2023-12-06 13:50:00.054805+00	сжатый.jpg	image/jpeg		chapters	c765c2ca-aa4a-46a9-aa19-119820f2852b	00000000-0000-0000-0000-000000000000
7fa95d86-1b74-444a-b83b-094531f29fed	2023-12-06 13:40:53.822143+00	2023-12-06 13:50:00.095862+00	leaf_tree.svg	image/svg+xml		chapters	c765c2ca-aa4a-46a9-aa19-119820f2852b	00000000-0000-0000-0000-000000000000
7678d394-c982-48f9-9911-2df28400e885	2024-02-05 14:45:11.177377+00	2024-02-05 14:52:46.394255+00	4.jpg	image/jpeg		chapters	a7a8acee-46d8-45a4-8b65-7549e188002c	00000000-0000-0000-0000-000000000000
31b39030-6893-4563-951f-692aa27e1c97	2023-12-06 13:54:27.384823+00	2023-12-06 13:55:03.06642+00	сжатый 9.jpg	image/jpeg		chapters	9ca6753f-c767-4d8e-9b49-d5cb1ea46170	00000000-0000-0000-0000-000000000000
79f45677-7390-491f-b469-edbfeb6360cc	2023-12-06 13:53:53.930024+00	2023-12-06 13:55:03.156962+00	leaf_tree.svg	image/svg+xml		chapters	9ca6753f-c767-4d8e-9b49-d5cb1ea46170	00000000-0000-0000-0000-000000000000
f0fce22b-1a02-49b7-ac7b-39fe3efb7ea0	2024-02-05 14:58:04.432517+00	2024-02-05 14:58:51.884436+00	chapter 1.svg	image/svg+xml		chapters	da3d8ee4-3faa-4e86-85c7-f1e347f5880c	00000000-0000-0000-0000-000000000000
e2256b5b-1e79-4929-8b9a-f5510cdabd29	2024-02-16 05:57:00.278585+00	2024-02-16 05:59:25.614903+00	Глава 9.md	text/markdown		chapters	818fa245-1744-4dca-9680-ad9b9dfdf5fe	00000000-0000-0000-0000-000000000000
ad013450-d770-44f1-862c-0c1018adbeca	2024-02-16 05:55:37.254288+00	2024-02-16 05:59:25.630521+00	6.jpg	image/jpeg		chapters	818fa245-1744-4dca-9680-ad9b9dfdf5fe	00000000-0000-0000-0000-000000000000
24491362-cc58-43c0-a666-360b848ba1b0	2023-12-06 13:32:46.818812+00	2023-12-06 13:35:06.933135+00	leaf_tree.svg	image/svg+xml		chapters	8de95b5c-9560-4089-bb63-4b83859cbb6a	00000000-0000-0000-0000-000000000000
d76f7506-59ca-4fdb-97b6-aa00da200b2d	2023-12-06 13:30:24.226447+00	2023-12-06 13:35:06.945457+00	Глава 1.md	text/markdown		chapters	8de95b5c-9560-4089-bb63-4b83859cbb6a	00000000-0000-0000-0000-000000000000
19bbeb78-2aee-4866-b48a-3b42c5a92ca4	2023-12-06 13:33:38.381616+00	2023-12-06 13:35:06.960769+00	2.jpg	image/jpeg		chapters	8de95b5c-9560-4089-bb63-4b83859cbb6a	00000000-0000-0000-0000-000000000000
098b47d2-c8b3-49d7-bbb7-38b6a60220e0	2024-02-16 06:02:39.93854+00	2024-02-16 06:02:49.477509+00	chapter 1.svg	image/svg+xml		chapters	78154ed8-9ba9-4e0b-974f-4ed7adbcadf9	00000000-0000-0000-0000-000000000000
e3aaf8f8-85ec-4e64-b41d-ead03577fc8a	2023-12-22 13:49:08.933399+00	2023-12-22 13:51:49.028008+00	7.jpg	image/jpeg		chapters	5fbe0913-faea-44b4-b7ad-0daeccf49c24	00000000-0000-0000-0000-000000000000
2eef630d-e88c-42c6-9ac4-9b76ff7ce5d3	2024-03-01 17:01:09.728403+00	2024-03-01 17:01:23.679251+00	Глава 10.md	text/markdown		chapters	da3d8ee4-3faa-4e86-85c7-f1e347f5880c	00000000-0000-0000-0000-000000000000
34d28599-cb93-40b6-a704-1aa48f36c76e	2023-12-22 13:56:35.936157+00	2023-12-22 13:56:54.139154+00	Глава 5.md	text/markdown		chapters	5fbe0913-faea-44b4-b7ad-0daeccf49c24	00000000-0000-0000-0000-000000000000
b9f8e46c-fb8e-4db7-9427-f4656f9dfde2	2024-03-01 17:00:42.15811+00	2024-03-01 17:01:23.717858+00	15.jpg	image/jpeg		chapters	da3d8ee4-3faa-4e86-85c7-f1e347f5880c	00000000-0000-0000-0000-000000000000
caf3665b-044b-4c3d-9281-ae971f4e68f1	2024-01-05 10:40:07.41339+00	2024-01-05 10:47:56.637021+00	кринжот.jpg	image/jpeg		chapters	07c09edd-2298-4d80-aa57-a2cc9f6a3b2e	00000000-0000-0000-0000-000000000000
c3ee05af-d2c4-4aa2-b969-a92d11e73097	2024-01-05 10:44:37.102828+00	2024-01-05 10:47:56.659556+00	chapter 1.svg	image/svg+xml		chapters	07c09edd-2298-4d80-aa57-a2cc9f6a3b2e	00000000-0000-0000-0000-000000000000
11fa6608-d9ec-41f1-ac26-fad93d38b6c8	2024-01-05 10:40:22.024272+00	2024-01-05 10:47:56.673852+00	Глава 6.md	text/markdown		chapters	07c09edd-2298-4d80-aa57-a2cc9f6a3b2e	00000000-0000-0000-0000-000000000000
b57569a9-0454-408e-9214-00332600945f	2024-01-05 11:03:31.950889+00	2024-01-05 11:05:20.395703+00	leaf_tree.svg	image/svg+xml		chapters	a7a8acee-46d8-45a4-8b65-7549e188002c	00000000-0000-0000-0000-000000000000
facf936d-d9f1-419e-ab4d-dfb18a59a874	2024-01-05 15:18:53.109921+00	2024-01-05 15:24:47.271335+00	Глава 3.md	text/markdown		chapters	9ca6753f-c767-4d8e-9b49-d5cb1ea46170	00000000-0000-0000-0000-000000000000
6447a793-639b-4b3d-972f-65fc6893337a	2024-01-05 18:07:23.296253+00	2024-01-05 18:07:34.040519+00	сжатый 7.jpg	image/jpeg		chapters	8de95b5c-9560-4089-bb63-4b83859cbb6a	00000000-0000-0000-0000-000000000000
\.


--
-- Data for Name: parts; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.parts (uuid, created_at, updated_at, number, title, annotation, cover_image_file, release_uuid) FROM stdin;
80bb99bb-0585-4e05-8afc-5b803b7c258f	2023-12-06 13:18:01.74933+00	2023-12-06 13:18:01.749331+00	1	Часть 1	\N	f9343ee2-5e2a-4454-a928-085945617e7b	e87e02c8-3f81-4b1a-8fe0-d273a7134eb8
\.


--
-- Data for Name: releases; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.releases (uuid, created_at, updated_at, release_date, description) FROM stdin;
67339141-3e86-42cc-b11a-0c56ee15c6cf	2023-12-06 13:23:21.494951+00	2023-12-06 13:23:21.494956+00	2023-11-10 15:00:00+00	Релиз четвертой главы
e87e02c8-3f81-4b1a-8fe0-d273a7134eb8	2023-12-06 13:36:17.225+00	2023-12-06 13:36:17.225+00	2023-09-29 15:00:00+00	Релиз первых главы и части
090b48c7-79a5-4e6c-afa4-19d9ff296982	2023-12-06 13:50:45.335796+00	2023-12-06 13:50:45.335796+00	2023-10-13 15:00:00+00	Релиз второй главы
f9db6eba-bd8d-4ec5-ac2b-53701fa3e9a0	2023-12-06 13:55:13.614963+00	2023-12-06 13:55:13.614963+00	2023-10-27 15:00:00+00	Релиз третьей главы
c866fed1-030b-4c6d-9034-63d66083adc0	2023-12-08 14:07:43.470774+00	2023-12-08 14:07:43.470777+00	2023-12-08 15:00:00+00	Релиз шестой главы
45cfdbaf-3a67-44c1-844f-4d0e61d19fcd	2023-12-22 13:58:50.782971+00	2023-12-22 13:58:50.782971+00	2023-11-24 15:00:00+00	Релиз пятой главы
a7c2a4c6-95bf-4b74-bb65-6581211a5682	2023-12-22 15:00:04.66828+00	2023-12-22 15:00:04.668284+00	2023-12-22 15:00:00+00	Релиз седьмой главы
db541ed9-9605-4dbf-a2e8-00b57a387916	2024-01-19 14:32:12.995403+00	2024-01-19 14:32:12.995403+00	2024-01-19 15:00:00+00	Релиз девятой главы
99a91518-904d-440e-a1d7-ac92d6a4dab0	2024-01-05 15:00:03.925636+00	2024-01-05 15:00:03.925637+00	2024-01-08 15:00:00+00	Релиз восьмой главы
3827f397-61b3-4092-817b-9e5d85f59705	2024-02-05 15:00:02.353437+00	2024-02-05 15:00:02.353443+00	2024-02-02 18:00:00+00	Релиз десятой главы
26a31b9a-393b-4f8b-8e46-1a487d83e623	2024-02-16 06:03:42.620102+00	2024-02-16 06:03:42.620106+00	2024-02-18 15:00:00+00	Релиз одинадцатой главы
\.


--
-- Name: auth_users_serial_number_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.auth_users_serial_number_seq', 2, true);


--
-- Name: db_migrations_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.db_migrations_id_seq', 1, true);


--
-- Name: db_seed_migrations_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.db_seed_migrations_id_seq', 1, true);


--
-- Name: auth_permissions auth_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_permissions
    ADD CONSTRAINT auth_permissions_pkey PRIMARY KEY (id);


--
-- Name: auth_roles_permissions auth_roles_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_roles_permissions
    ADD CONSTRAINT auth_roles_permissions_pkey PRIMARY KEY (role_id, permission_id);


--
-- Name: auth_roles auth_roles_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_roles
    ADD CONSTRAINT auth_roles_pkey PRIMARY KEY (id);


--
-- Name: auth_users_permissions auth_users_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_users_permissions
    ADD CONSTRAINT auth_users_permissions_pkey PRIMARY KEY (user_uuid, permission_id);


--
-- Name: auth_users auth_users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_users
    ADD CONSTRAINT auth_users_pkey PRIMARY KEY (uuid);


--
-- Name: auth_users_roles auth_users_roles_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_users_roles
    ADD CONSTRAINT auth_users_roles_pkey PRIMARY KEY (user_uuid, role_id);


--
-- Name: chapters chapters_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chapters
    ADD CONSTRAINT chapters_pkey PRIMARY KEY (uuid);


--
-- Name: db_migrations db_migrations_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.db_migrations
    ADD CONSTRAINT db_migrations_pkey PRIMARY KEY (id);


--
-- Name: db_seed_migrations db_seed_migrations_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.db_seed_migrations
    ADD CONSTRAINT db_seed_migrations_pkey PRIMARY KEY (id);


--
-- Name: files files_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.files
    ADD CONSTRAINT files_pkey PRIMARY KEY (uuid);


--
-- Name: parts parts_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.parts
    ADD CONSTRAINT parts_pkey PRIMARY KEY (uuid);


--
-- Name: releases releases_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.releases
    ADD CONSTRAINT releases_pkey PRIMARY KEY (uuid);


--
-- Name: auth_users_email_key; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX auth_users_email_key ON public.auth_users USING btree (email);


--
-- Name: auth_users_serial_number_key; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX auth_users_serial_number_key ON public.auth_users USING btree (serial_number);


--
-- Name: auth_users_vk_id_key; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX auth_users_vk_id_key ON public.auth_users USING btree (vk_id);


--
-- Name: chapter_number_part_uuid; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX chapter_number_part_uuid ON public.chapters USING btree (number, part_uuid);


--
-- Name: chapter_part_uuid; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX chapter_part_uuid ON public.chapters USING btree (part_uuid);


--
-- Name: chapter_release_uuid; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX chapter_release_uuid ON public.chapters USING btree (release_uuid);


--
-- Name: file_object_type_object_ref; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX file_object_type_object_ref ON public.files USING btree (object_type, object_ref);


--
-- Name: part_release_uuid; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX part_release_uuid ON public.parts USING btree (release_uuid);


--
-- Name: parts_number_key; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX parts_number_key ON public.parts USING btree (number);


--
-- Name: release_release_date; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX release_release_date ON public.releases USING btree (release_date);


--
-- Name: auth_roles_permissions auth_roles_permissions_permission_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_roles_permissions
    ADD CONSTRAINT auth_roles_permissions_permission_id FOREIGN KEY (permission_id) REFERENCES public.auth_permissions(id) ON DELETE CASCADE;


--
-- Name: auth_roles_permissions auth_roles_permissions_role_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_roles_permissions
    ADD CONSTRAINT auth_roles_permissions_role_id FOREIGN KEY (role_id) REFERENCES public.auth_roles(id) ON DELETE CASCADE;


--
-- Name: auth_users_permissions auth_users_permissions_permission_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_users_permissions
    ADD CONSTRAINT auth_users_permissions_permission_id FOREIGN KEY (permission_id) REFERENCES public.auth_permissions(id) ON DELETE CASCADE;


--
-- Name: auth_users_permissions auth_users_permissions_user_uuid; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_users_permissions
    ADD CONSTRAINT auth_users_permissions_user_uuid FOREIGN KEY (user_uuid) REFERENCES public.auth_users(uuid) ON DELETE CASCADE;


--
-- Name: auth_users_roles auth_users_roles_role_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_users_roles
    ADD CONSTRAINT auth_users_roles_role_id FOREIGN KEY (role_id) REFERENCES public.auth_roles(id) ON DELETE CASCADE;


--
-- Name: auth_users_roles auth_users_roles_user_uuid; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_users_roles
    ADD CONSTRAINT auth_users_roles_user_uuid FOREIGN KEY (user_uuid) REFERENCES public.auth_users(uuid) ON DELETE CASCADE;


--
-- Name: chapters chapters_parts_chapters; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chapters
    ADD CONSTRAINT chapters_parts_chapters FOREIGN KEY (part_uuid) REFERENCES public.parts(uuid);


--
-- Name: chapters chapters_releases_chapters; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chapters
    ADD CONSTRAINT chapters_releases_chapters FOREIGN KEY (release_uuid) REFERENCES public.releases(uuid) ON DELETE SET NULL;


--
-- Name: files files_auth_users_files; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.files
    ADD CONSTRAINT files_auth_users_files FOREIGN KEY (creator_uuid) REFERENCES public.auth_users(uuid) ON DELETE SET NULL;


--
-- Name: parts parts_releases_parts; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.parts
    ADD CONSTRAINT parts_releases_parts FOREIGN KEY (release_uuid) REFERENCES public.releases(uuid) ON DELETE SET NULL;


--
-- PostgreSQL database dump complete
--

